> # Use the 'survey' package. Install it if necessary
# Use the 'survey' package. Install it if necessary
>
# Use the 'survey' package. Install it if necessary
install.packages("survey")
>
> rm(keep_cases)
***************************************************************
# Use the 'survey' package. Install it if necessary
check <- require('survey')
Loading required package: survey
install.packages('survey')
install.packages('readstata13')
+   library(readstata13)
library(survey)
library(readstata13)
statafile <- 'C:\Users\viggo\Documents\Development Economics 1\Tanzania_2012.dta'
statafile <- "C:\Users\viggo\Documents\Development Economics 1\Tanzania_2012.dta"
statafile <- "C:/Users/viggo/Documents/Development Economics 1/Tanzania_2012.dta"
tzdata <- read.dta13(statafile,nonint.factors = T)
> # Remove any missing data
# Remove any missing data
keep_cases <- !with(tzdata,is.na(cons) | is.na(STRATUM) | is.na(CLUSTER) |
+                       is.na(hhsize) | i .... [TRUNCATED]
# Remove any missing data
keep_cases <- !with(tzdata,is.na(cons) | is.na(STRATUM) | is.na(CLUSTER) |
+                       is.na(hhsize) | i .... [TRUNCATED]
keep_cases <- !with(tzdata,is.na(cons) | is.na(STRATUM) | is.na(CLUSTER) |
+                       is.na(hhsize) | i .... [TRUNCATED]
# Remove any missing data
# Remove cases with missing key variables
keep_cases <- !with(tzdata,
is.na(cons) | is.na(STRATUM) | is.na(CLUSTER) |
is.na(hhsize) | is.na(hhweight))
tzdata <- tzdata[keep_cases, ]
rm(keep_cases)
# Define new variable: population weight
tzdata$popwt <- with(tzdata, hhsize * hhweight)
# Load survey package (if not already loaded)
library(survey)
# Set up survey design
tzdesign <- svydesign(
id = ~CLUSTER,
strata = ~STRATUM,
weights = ~popwt,
data = tzdata
)
statafile
tzdata
library(survey)
library(readstata13)
library(tidyr)
library(dplyr)
library(knitr)
library(survey)
library(readstata13)
library(tidyr)
library(dplyr)
library(knitr)
Tanzania_2012 <- "C:/Users/viggo/Documents/Development Economics 1/Tanzania_2012.dta"
tzdata2012 <- read.dta13(Tanzania_2012,nonint.factors = T)
keep_cases <- !with(tzdata2012,
is.na(cons) | is.na(STRATUM) | is.na(CLUSTER) |
is.na(hhsize) | is.na(hhweight))
tzdata2012 <- tzdata2012[keep_cases, ]
rm(keep_cases)
tzdata2012$popwt <- with(tzdata2012, hhsize * hhweight)
library(survey)
tzdesign <- svydesign(
id = ~CLUSTER,
strata = ~STRATUM,
weights = ~popwt,
data = tzdata2012
)
Tanzania_2012 <- "C:/Users/viggo/Documents/Development Economics 1/Tanzania_2012.dta"
Tanzania_2018 <- "C:/Users/viggo/Documents/Development Economics 1/Tanzania_2018.dta"
library(survey)
library(readstata13)
library(tidyr)
library(dplyr)
library(knitr)
Tanzania_2012 <- "C:/Users/viggo/Documents/Development Economics 1/Tanzania_2012.dta"
Tanzania_2018 <- "C:/Users/viggo/Documents/Development Economics 1/Tanzania_2018.dta"
tzdata2012 <- read.dta13(Tanzania_2012,nonint.factors = T)
tzdata2018 <- read.dta13(Tanzania_2018,nonint.factors = T)
tzdata2012
tzdata <- bind_rows(data2012, data2018)
tzdata <- bind_rows(tzdata2012, tzdata2018)
national <- tzdata %>%
group_by(year) %>%
summarise(
headcount_std = weighted.mean(cons < povline, hhweight) * 100,
)
national <- tzdata %>%
group_by(year) %>%
summarise(
headcount_std = weighted.mean(cons < povline, hhweight) * 100,
) %>%
print
national <- tzdata %>%
group_by(year) %>%
summarise(
headcount_std = weighted.mean(cons < povline, hhweight) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight) * 100
) %>%
print
tzdata <- bind_rows(tzdata2012, tzdata2018)
national <- tzdata %>%
group_by(year) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight) * 100
) %>%
print
area <- tzdata %>%
group_by(year, STRATUM) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight) * 100
) %>%
print
region <- tzdata %>%
group_by(year, region) %>%
summarise(
headcount_std = weighted.mean(cons < povline, hhweight) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight) * 100
) %>%
print
print(national)
print(area)
print(region)
print(national)
print(national)
print(area)
tzdata <- bind_rows(tzdata2012, tzdata2018)
national <- tzdata %>%
group_by(year) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight * hhsize) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight * hhsize) * 100
)
area <- tzdata %>%
group_by(year, STRATUM) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight * hhsize) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight * hhsize) * 100
)
region <- tzdata %>%
group_by(year, region) %>%
summarise(
headcount_std = weighted.mean(cons < povline, hhweight * hhsize) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight * hhsize) * 100
)
print(national)
print(area)
print(region)
print(national)
print(area)
tzdata <- bind_rows(tzdata2012, tzdata2018)
library(survey)
library(readstata13)
library(tidyr)
library(dplyr)
library(knitr)
#1
#Calculations of the standard and the poverty line
tzdata <- bind_rows(tzdata2012, tzdata2018)
# National
national <- tzdata %>%
group_by(year) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight * hhsize) * 100,
poverty_gap_standard = weighted.mean(pmax(0, (povline - cons) / povline), hhweight * hhsize) * 100,
sq_poverty_gap_standard = weighted.mean(pmax(0, (povline - cons) / povline)^2, hhweight * hhsize) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight * hhsize) * 100,
poverty_gap_food = weighted.mean(pmax(0, (food_povline - cons) / food_povline), hhweight * hhsize) * 100,
sq_poverty_gap_food = weighted.mean(pmax(0, (food_povline - cons) / food_povline)^2, hhweight * hhsize) * 100
)
# Area
area <- tzdata %>%
group_by(year, STRATUM) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight * hhsize) * 100,
poverty_gap_standard = weighted.mean(pmax(0, (povline - cons) / povline), hhweight * hhsize) * 100,
sq_poverty_gap_standard = weighted.mean(pmax(0, (povline - cons) / povline)^2, hhweight * hhsize) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight * hhsize) * 100,
poverty_gap_food = weighted.mean(pmax(0, (food_povline - cons) / food_povline), hhweight * hhsize) * 100,
sq_poverty_gap_food = weighted.mean(pmax(0, (food_povline - cons) / food_povline)^2, hhweight * hhsize) * 100
)
# Region
region <- tzdata %>%
group_by(year, region) %>%
summarise(
headcount_standard = weighted.mean(cons < povline, hhweight * hhsize) * 100,
poverty_gap_standard = weighted.mean(pmax(0, (povline - cons) / povline), hhweight * hhsize) * 100,
sq_poverty_gap_standard = weighted.mean(pmax(0, (povline - cons) / povline)^2, hhweight * hhsize) * 100,
headcount_food = weighted.mean(cons < food_povline, hhweight * hhsize) * 100,
poverty_gap_food = weighted.mean(pmax(0, (food_povline - cons) / food_povline), hhweight * hhsize) * 100,
sq_poverty_gap_food = weighted.mean(pmax(0, (food_povline - cons) / food_povline)^2, hhweight * hhsize) * 100
)
#Table
national_table <- national %>% mutate(Level = "National", Category = "All")
area_table <- area %>% mutate(Level = "Area", Category = STRATUM) %>% select(-STRATUM)
region_table <- region %>% mutate(Level = "Region", Category = region) %>% select(-region)
all_results <- bind_rows(national_table, area_table, region_table)
kable(all_results)
install.packages("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
install.packages("tidyverse")
library(tidyverse)
install.packages("readxl")
library(readxl)
Tanzania_2018_new_1 <- ("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
View(Tanzania_2018_new_1)
df <- read.csv("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
poverty_line <- 49320.13
load("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
View(Tanzania_2018_new)
install.packages("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
install.packages("tidyverse")
library(tidyverse)
install.packages("readxl")
library(readxl)
Tanzania_2018_new_1 <- ("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
View(Tanzania_2018_new_1)
df <- read.csv("C:/Users/bjrns/Downloads/Tanzania_2018_new-1.rdata")
poverty_line <- 49320.13
Tanzania_2018_new$poor <- ifelse(Tanzania_2018_new$cons < poverty_line, 1, 0)
install.packages("stargazer")
install.packages("sjPlot")
library(stargazer)
library(tidyverse)
library(tidyverse)
library(stargazer)
library(tidyverse)
library(sjPlot)
data <- read_csv(file = "monocentric_2016.csv")
monocentric_2016 <- read.csv("C:/Users/bjrns/Downloads/monocentric_2016.csv", header=FALSE)
View(monocentric_2016)
data <- read_csv(file = "monocentric_2016.csv")
monocentric_2016 %>%
group_by(v4) %>%
filter(nijmegen)
monocentric_2016 %>%
group_by(V4) %>%
filter(nijmegen)
monocentric_2016 %>%
group_by(V4) %>%
filter(Nijmegen)
monocentric_2016 %>%
group_by(V4) %>%
filter(V4 == "Nijmegen")
data <- monocentric_2016 %>%
group_by(V4) %>%
filter(V4 == "Nijmegen")
View(data)
data <- monocentric_2016 %>%
#group_by(V4) %>%
filter(V4 == "Nijmegen") %>%
bind_rows(monocentric_2016[1, ])
View(data)
data <- monocentric_2016 %>%
#group_by(V4) %>%
bind_rows(monocentric_2016[1, ]) %>%
filter(V4 == "Nijmegen") %>%
View(data)
View(monocentric_2016)
# selecting only municipality nijmegen
data <- monocentric_2016 %>%
bind_rows(monocentric_2016[1, ]) %>%
filter(V4 == "Nijmegen") %>%
library(stargazer)
library(stargazer)
library(tidyverse)
library(sjPlot)
data <- monocentric_2016 %>%
bind_rows(monocentric_2016[1, ]) %>%
filter(V4 == "Nijmegen")
colnames(monocentric_2016) <- as.character(unlist(monocentric_2016[1, ]))
monocentric_2016 <- monocentric_2016[-1, ]
View(monocentric_2016)
data <- monocentric_2016 %>%
#bind_rows(monocentric_2016[1, ]) %>%
filter(V4 == "Nijmegen")
data <- monocentric_2016 %>%
#bind_rows(monocentric_2016[1, ]) %>%
filter(munname == "Nijmegen")
View(data)
